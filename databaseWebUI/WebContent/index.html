<!DOCTYPE html>
<html>
  <head>
    <meta charset="ISO-8859-1" />
    <title>dbUI</title>
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
      integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
      crossorigin="anonymous"
    />

    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="container" style="margin-top: 10%;">
      <form>
        <div class="form-group">
          <label for="dbvendor">Database Vendor</label>
          <select class="form-control" id="dbvendor">
            <option>PostgreSQL</option>
            <option>MySQL</option>
            <option>Oracle</option>
          </select>
        </div>
        <div class="form-group">
          <label for="host">host</label>
          <input
            type="text"
            class="form-control"
            id="host"
            placeholder="hostname"
          />
        </div>
        <div class="form-group">
          <label for="port">port</label>
          <input
            type="text"
            class="form-control"
            id="port"
            placeholder="port"
          />
        </div>
        <div class="form-group">
          <label for="database-name">database</label>
          <input
            type="text"
            class="form-control"
            id="database-name"
            placeholder="database name"
          />
        </div>
        <div class="form-group">
          <label for="username">User name</label>
          <input
            type="text"
            class="form-control"
            id="username"
            placeholder="username"
          />
        </div>
        <div class="form-group">
          <label for="password">password</label>
          <input
            type="password"
            class="form-control"
            id="password"
            placeholder="password"
          />
        </div>
        <div class="form-group">
          <label for="queryEditor">Query</label>
          <textarea class="form-control" id="queryEditor" rows="10"></textarea>
        </div>
      </form>
      <div>
        <button onclick="execute()" class="btn btn-info btn-lg execute">
          Run
        </button>
      </div>
    </div>
    <div class="container" id="output"></div>
    <script type="text/javascript">
      function execute() {
        $.ajax({
          url: "execute",
          data: {
            dbvendor: document.getElementById("dbvendor").value,
            host: document.getElementById("host").value,
            port: document.getElementById("port").value,
            database: document.getElementById("database-name").value,
            username: document.getElementById("username").value,
            password: document.getElementById("password").value,
            queryEditor: document.getElementById("queryEditor").value,
          },
          type: "post",
          success: function (data) {
            $("#output").replaceWith($("#output").html(data));
          },
          error: function () {
            $("#output").replaceWith(
              $("#output").html("<b>failed to send request..</b>")
            );
          },
        });
      }
    </script>
  </body>
</html>
